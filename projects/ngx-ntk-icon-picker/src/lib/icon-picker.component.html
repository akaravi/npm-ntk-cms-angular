<div
  class="icon-picker"
  #dialogPopup
  [hidden]="!show"
  [style.visibility]="this.hidden ? 'hidden' : 'visible'"
  [style.height.px]="ipHeight"
  [style.width.px]="ipWidth"
  [style.top.px]="top"
  [style.left.px]="left"
  [style.position]="position"
>
  <div class="arrow arrow-{{ ipPosition }}" [style.top.px]="arrowTop"></div>

  <div class="icon-search {{ ipDivSearchStyleClass }}">
    <input
      type="text"
      class="{{ ipInputSearchStyleClass }}"
      [text]
      [value]="search"
      (newValue)="setSearch($event)"
      [placeholder]="ipPlaceHolder"
    />
  </div>
  <div class="icon-grid" [ngStyle]="{ 'max-height.px': ipMaxHeight }">
    @for (icon of icons | searchIcon:search; track icon.id) { @if (icon) {
    <button
      class="ip-button-icon {{ ipButtonStyleClass }}"
      type="button"
      title="{{ icon.name }}"
      [ngClass]="{ active: icon === selectedIcon }"
      [style.width.px]="buttonWidth"
      [style.height.px]="buttonHeight"
      [style.padding-top.px]="ipIconVerticalPadding"
      [style.padding-bottom.px]="ipIconVerticalPadding"
      [style.padding-left.px]="ipIconHorizontalPadding"
      [style.padding-right.px]="ipIconHorizontalPadding"
      (click)="selectIcon(icon)"
    >
      @if (icon.type === iconType.FontAwesome) {
      <span
        class="fa fa-{{ icon.id }}"
        [style.font-size.px]="ipIconSize"
      ></span>
      } @if (icon.type === iconType.FontAwesome5) {
      <span class="{{ icon.id }}" [style.font-size.px]="ipIconSize"></span>
      } @if (icon.type === iconType.FontAwesome6) {
      <span [style.font-size.px]="ipIconSize">
        @if (getFontAwesome6Icon(icon.iconName); as iconDef) {
        <fa-icon [icon]="iconDef" (error)="onIconError($event)"></fa-icon>
        } @else {
        <span
          class="fa fa-question"
          [style.font-size.px]="ipIconSize"
          title="Icon not found: {{ icon.iconName }}"
        ></span>
        }
      </span>
      } @if (icon.type === iconType.Material) {
      <span class="material-icons" [style.font-size.px]="ipIconSize">{{
        icon.id
      }}</span>
      } @if (icon.type === iconType.PrimeIcons) {
      <span
        class="pi pi-{{ icon.id }}"
        [style.font-size.px]="ipIconSize"
      ></span>
      }
    </button>
    } }
  </div>
</div>
